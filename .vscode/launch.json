{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            // "pathMappings": [
            //     {
            //         "localRoot": "${workspaceFolder}",
            //         "remoteRoot": "/home/ros/ros2_ws/build"
            //     },
            //     {
            //         "localRoot": "${workspaceFolder}",
            //         "remoteRoot": "/home/ros/ros2_ws/install"
            //     }
            // ]
            // "console": "externalTerminal",
            // "sudo": true
        },
        {
            "name": "Python Debugger: Remote Attach",
            "type": "debugpy",
            "request": "attach",
            "connect": {
                "host": "localhost",
                "port": 5678
            },
            "pathMappings": [
                {
                    "localRoot": "${workspaceFolder}",
                    "remoteRoot": "."
                }
            ]
        },
        {
            "name": "Python: robot_arm_test",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/robot_arm/robot_arm_client/scripts/robot_arm_test.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Task: fr3_insert",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/robot_tasks/scripts/fr3_insert.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Agent Node: insert",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/robot_tasks/robot_tasks/rl_agent/Insert.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Node: i3_teleop",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/teleop/teleop/teleop/i3_teleop.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Node: inverse3_node",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/teleop/inverse3_ros2/inverse3_ros2/Inverse3_Node.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Node: fr3_interface",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/robot_arm/robot_arm_interface/robot_arm_interface/fr3_interface.py",
            "console": "integratedTerminal",
        },
        {
            "name": "Node: delay_rim",
            "type": "debugpy",
            "request": "launch",
            "program": "src/adl_ros2/robot_arm/franka_rim/franka_rim/delay_rim_node.py",
            "args": [
                "--ros-args",
                "-p",
                "delay_compensation_method:=zoh", // 'delay_rim', 'zoh', or 'zoh_phi'
                "-p",
                "control_period:=0.001",
                "-p",
                "max_workers:=1",
                "-p",
                "cmd_topic:=/osc_pd_controller/goal_pre_delay",
                "-p",
                "interface_stiffness:=500.0",
                "-p",
                "interface_damping:=50.0",
            ],
            "console": "integratedTerminal",
            "pathMappings": [
                {
                    "localRoot": "${workspaceFolder}",
                    "remoteRoot": "/home/ros/ros2_ws/build"
                },
                {
                    "localRoot": "${workspaceFolder}",
                    "remoteRoot": "/home/ros/ros2_ws/install"
                }
            ]
        },
        // {
        //     "name": "Launch: i3_teleop.launch.py",
        //     "type": "debugpy",
        //     "request": "launch",
        //     "program": "/opt/ros/humble/bin/ros2", // Path to the ros2 executable
        //     "args": [
        //         "launch",
        //         "teleop",
        //         "i3_teleop.launch.py",
        //     ],
        //     "console": "integratedTerminal",
        // },
        {
            "name": "Launch: joy_teleop.launch.py",
            "type": "debugpy",
            "request": "launch",
            "program": "/opt/ros/humble/bin/ros2", // Path to the ros2 executable
            "args": [
                "launch",
                "teleop",
                "joy_teleop.launch.py",
            ],
            "console": "integratedTerminal",
        },
        {
            "name": "Launch: fr3.launch.py",
            "type": "debugpy",
            "request": "launch",
            "program": "/opt/ros/humble/bin/ros2", // Path to the ros2 executable
            "args": [
                "launch",
                "robot_arm_bringup",
                "fr3.launch.py",
                "hw_type:=fake"
            ],
            "console": "integratedTerminal",
            // "env": {
            //   "PYTHONPATH": "${workspaceFolder}/install/my_package/lib/python3.8/site-packages:${env:PYTHONPATH}",
            //   "ROS_DOMAIN_ID": "0"       // Optional: Set ROS_DOMAIN_ID if needed
            // },
            // "cwd": "${workspaceFolder}"  // Set the working directory
        },
        // {
        //     "name": "Launch: i3_teleop_position.launch.py",
        //     "type": "debugpy",
        //     "request": "launch",
        //     "program": "/opt/ros/humble/bin/ros2", // Path to the ros2 executable
        //     "args": [
        //         "launch",
        //         "teleop",
        //         "i3_teleop_position.launch.py",
        //         "fake_i3:=true",
        //     ],
        //     "console": "integratedTerminal",
        //     "env": {
        //         "DEBUG_NODE": "",
        //     },
        // },
        {
            "name": "Launch: franka_rim.launch.py",
            "type": "debugpy",
            "request": "launch",
            "program": "/opt/ros/humble/bin/ros2",
            "args": [
                "launch",
                "franka_rim",
                "franka_rim.launch.py",
                "config_file:=rim_fr3_config.yaml", // rim_fr3_config, rim_fr3_sim_config
                "fake_i3:=false",
                "save_data:=false",
            ],
            "console": "integratedTerminal",
            "env": {
                "DEBUG_NODE": "", // franka_rim_node, franka_model_node, delay_rim_node
                "PYDEVD_RESOLVE_SYMLINKS": "1",
            }
        },
        {
            "name": "Launch: rim_stepper.launch.py",
            "type": "debugpy",
            "request": "launch",
            "program": "/opt/ros/humble/bin/ros2",
            "args": [
                "launch",
                "franka_rim",
                "rim_stepper.launch.py",
                "config_file:=rim_fr3_config.yaml", // rim_fr3_config, rim_fr3_sim_config
                "fake_i3:=false",
                "save_data:=false",
            ],
            "console": "integratedTerminal",
            "env": {
                "DEBUG_NODE": "", // franka_rim_node, franka_model_node, delay_rim_node
                "PYDEVD_RESOLVE_SYMLINKS": "1",
            }
        },
        {
            "name": "Launch: i3_teleop.launch.py",
            "type": "debugpy",
            "request": "launch",
            "program": "/opt/ros/humble/bin/ros2",
            "args": [
                "launch",
                "franka_rim",
                "i3_teleop.launch.py",
                "config_file:=i3_teleop.yaml", // rim_fr3_config, rim_fr3_sim_config
                "fake_i3:=false",
                "save_data:=false",
            ],
            "console": "integratedTerminal",
            "env": {
                "DEBUG_NODE": "", // franka_rim_node, franka_model_node, delay_rim_node
            }
        },
        {
            "name": "Python: Process bag files",
            "type": "debugpy",
            "request": "launch",
            "program": "scripts/bag_data_processing.py",
            "console": "integratedTerminal",
            "args": [
                "--config-file",
                "${workspaceFolder}/config/experiment_configs.yaml",
                "--config",
                "int_force_free_space",
                // "--force", // Uncomment to force processing even if output exists
            ],
            // "console": "externalTerminal",
            // "sudo": true
        },
    ],
    "inputs": [
        {
            "id": "bagFileName",
            "description": "Bag file name",
            "default": "franka_rim_data_20241215_143022",
            "type": "promptString"
        },
        {
            "id": "delay",
            "description": "Network delay (ms)",
            "default": "0",
            "type": "promptString"
        },
        {
            "id": "compensation",
            "description": "Compensation method",
            "default": "zoh",
            "type": "pickString",
            "options": [
                "delay_rim",
                "zoh",
                "zoh_phi"
            ]
        },
        {
            "id": "fake_i3",
            "description": "Use fake I3 device",
            "default": "false",
            "type": "pickString",
            "options": [
                "true",
                "false"
            ]
        },
        {
            "id": "use_sim_time",
            "description": "Use simulation time",
            "default": "false",
            "type": "pickString",
            "options": [
                "true",
                "false"
            ]
        },
        {
            "id": "configFile",
            "description": "Configuration file",
            "default": "franka_rim_default.yaml",
            "type": "pickString",
            "options": [
                "franka_rim_default.yaml",
                "franka_rim_debug.yaml"
            ]
        }
    ]
}